<h1 id="survive-and-ephemeral-memory-spaces">Survive and Ephemeral Memory Spaces</h1>

<table>
  <thead>
    <tr>
      <th style="text-align: left">RSKIP</th>
      <th style="text-align: left">20</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Title</strong></td>
      <td style="text-align: left">Survive and Ephemeral Memory Spaces</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Created</strong></td>
      <td style="text-align: left">25-NOV-2016</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Author</strong></td>
      <td style="text-align: left">SDL</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Purpose</strong></td>
      <td style="text-align: left">Sca</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Layer</strong></td>
      <td style="text-align: left">Core</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Complexity</strong></td>
      <td style="text-align: left">2</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Status</strong></td>
      <td style="text-align: left">Draft</td>
    </tr>
  </tbody>
</table>

<h2 id="pre-git-revisions">Pre-git revisions</h2>

<p>Date: 25/NOV/2016</p>

<p>Revision date:</p>

<p>Revision: 1</p>

<p>Status: Draft (unfinished)</p>

<h1 id="abstract"><strong>Abstract</strong></h1>

<p>This RSKIP splits the storage memory into two subspaces: survive and ephemeral. The first is hibernated, but the second is destroyed on hibernation.</p>

<h1 id="motivation"><strong>Motivation</strong></h1>

<p>This, combined with contract rent, allows an un-owned or public contract to choose which parts of the memory will persist with very low overhead and high efficiency if some clients of the contract do not pay the rent.</p>

<h1 id="specification"><strong>Specification</strong></h1>
<p>TBD</p>

<h2 id="sample-use-cases">Sample Use Cases</h2>

<h3 id="user-asset-contract">User-asset contract</h3>

<p>A contract ASSET maintains a local ledger in (a,v) pairs, such that “a“ is the address of the asset owner and “v“ is the asset value owned. When a receives an asset for the first time, a transfer() method is called, and a new memory cell is created in the survive subspace. The user will periodically (once every 6 months) call a method payRent() of the ASSET contract. The method will check if the address is in the survive subspace, and if not, it will move the address there, and pay a deposit corresponding to the cost of 6 months of storage.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public payRent()
{
    address a = msg.sender;
    Amount amount = GASCOST(memoryCost)*2;
    rentPaid[a] = block.date	
    DEPOSIT_RENT(this,amount)
}

</code></pre></div></div>
<h1 id="copyright"><strong>Copyright</strong></h1>

<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p>
