<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Precompiled contract for inspecting block headers | RSK Improvement Proposals</title>
    <meta
      property="og:title"
      content="Precompiled contract for inspecting block headers | RSK Improvement Proposals"
    />
    <meta name="description" content="RSK Improvement Proposals (RSKIPs) describe standards for the RSK platform, including core protocol specifications, client APIs, and contract standards." />
    <meta property="og:description" content="RSK Improvement Proposals (RSKIPs) describe standards for the RSK platform, including core protocol specifications, client APIs, and contract standards." />
    <meta name="twitter:description" content="RSK Improvement Proposals (RSKIPs) describe standards for the RSK platform, including core protocol specifications, client APIs, and contract standards." />

  <meta name="generator" content="Jekyll" />
  <meta property="og:locale" content="en_US" />
  <link rel="canonical" href="https://ips.rsk.co/IPs/RSKIP119" />
  <meta property="og:url" content="https://ips.rsk.co/IPs/RSKIP119" />
  <meta property="og:site_name" content="RSK Improvement Proposals" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <script type="application/ld+json">
    {
      "@type": "WebSite",
      "url": "https://ips.rsk.co",
      "name": "RSK Improvement Proposals",
      "description": "RSK Improvement Proposals (RSKIPs) describe standards for the RSK platform, including core protocol specifications, client APIs, and contract standards.",
      "@context": "https://schema.org"
    }
  </script>
  <link rel="stylesheet" href="/assets/css/style.css" />
      <!-- Google Fonts -->
      <link href="https://fonts.googleapis.com/css?family=Quicksand:400,700,900&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,600,700,800&display=swap" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="RSK Improvement Proposals" /><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha256-nlrDrBTHxJJlDDX22AS33xYI1OJHnGMDhiYMSe2U0e0=" crossorigin="anonymous"></script>
</head>
<body><header class="site-header" role="banner">
  <button id="dark-mode-toggle" class="dark-mode-toggle theme-toggle-button">
    <svg class="icon" style="width:24px;height:24px" viewBox="0 0 24 24">
      <path fill="currentColor" d="M7.5,2C5.71,3.15 4.5,5.18 4.5,7.5C4.5,9.82 5.71,11.85 7.53,13C4.46,13 2,10.54 2,7.5A5.5,5.5 0 0,1 7.5,2M19.07,3.5L20.5,4.93L4.93,20.5L3.5,19.07L19.07,3.5M12.89,5.93L11.41,5L9.97,6L10.39,4.3L9,3.24L10.75,3.12L11.33,1.47L12,3.1L13.73,3.13L12.38,4.26L12.89,5.93M9.59,9.54L8.43,8.81L7.31,9.59L7.65,8.27L6.56,7.44L7.92,7.35L8.37,6.06L8.88,7.33L10.24,7.36L9.19,8.23L9.59,9.54M19,13.5A5.5,5.5 0 0,1 13.5,19C12.28,19 11.15,18.6 10.24,17.93L17.93,10.24C18.6,11.15 19,12.28 19,13.5M14.6,20.08L17.37,18.93L17.13,22.28L14.6,20.08M18.93,17.38L20.08,14.61L22.28,17.15L18.93,17.38M20.08,12.42L18.94,9.64L22.28,9.88L20.08,12.42M9.63,18.93L12.4,20.08L9.87,22.27L9.63,18.93Z" />
    </svg>
  </button>


<div class="wrapper"><a class="site-title" rel="author" href="http://localhost:4000/">RSK Improvement Proposals</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link underline" href="http://localhost:4000/all">All</a><a class="page-link underline" href="http://localhost:4000/scalability">Scalability</a><a class="page-link underline" href="http://localhost:4000/security">Security</a><a class="page-link underline" href="http://localhost:4000/usability">Usability</a><a class="page-link underline" href="http://localhost:4000/fairness">Fairness</a><a class="page-link underline" href="http://localhost:4000/standardtrack">Standard Track</a></div>





      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Precompiled contract for inspecting block headers</h1>
  </header>

  <div class="post-content">
    <h1 id="precompiled-contract-for-inspecting-block-headers">Precompiled contract for inspecting block headers</h1>

<table>
  <thead>
    <tr>
      <th style="text-align: left">RSKIP</th>
      <th style="text-align: left">119</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Title</strong></td>
      <td style="text-align: left">Precompiled contract for inspecting block headers</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Created</strong></td>
      <td style="text-align: left">01-APR-19</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Author</strong></td>
      <td style="text-align: left">DM</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Purpose</strong></td>
      <td style="text-align: left">Usa</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Layer</strong></td>
      <td style="text-align: left">Core</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Complexity</strong></td>
      <td style="text-align: left">1</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Status</strong></td>
      <td style="text-align: left">Draft</td>
    </tr>
  </tbody>
</table>

<h2 id="abstract">Abstract</h2>

<p>A new precompiled contract (i.e., native, hardwired onto the RSK consensus layer) is introduced. This contract contains operations to allow inspection of several block header fields that can be useful for smart contract developers.</p>

<h2 id="motivation">Motivation</h2>

<p>Exploring the headers of specific blocks from solidity code (or assembly WOLOG) executing on the RVM could be too expensive. Doing this directly in solidity would require to write it and test it multiple times. Furthermore, different implementations can lead to errors potentially protruding to loss of funds. A well-written, tested and precompiled function set of operations to access the block header fields will tackle these problems while at the same time it will enforce certain level of security by implementing these as part of the RSK consensus.</p>

<h2 id="specification">Specification</h2>

<p>A new precompiled contract will be accessible at the <code class="language-plaintext highlighter-rouge">0x0000000000000000000000000000000001000010</code> address. It will implement the following functions (signatures and return values are as follows):</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">getBitcoinHeader(uint256 blockDepth) returns (bytes)</code></li>
  <li><code class="language-plaintext highlighter-rouge">getBlockHash(uint256 blockDepth) returns (bytes)</code></li>
  <li><code class="language-plaintext highlighter-rouge">getCoinbaseAddress(uint256 blockDepth) returns (bytes)</code></li>
  <li><code class="language-plaintext highlighter-rouge">getGasLimit(uint256 blockDepth) returns (bytes)</code></li>
  <li><code class="language-plaintext highlighter-rouge">getGasUsed(uint256 blockDepth) returns (bytes)</code></li>
  <li><code class="language-plaintext highlighter-rouge">getMergedMiningTags(uint256 blockDepth) returns (bytes)</code></li>
  <li><code class="language-plaintext highlighter-rouge">getMinGasPrice(uint256 blockDepth) returns (bytes)</code></li>
  <li><code class="language-plaintext highlighter-rouge">getRSKDifficulty(uint256 blockDepth) returns (bytes)</code></li>
  <li><code class="language-plaintext highlighter-rouge">getUncleCoinbaseAddress(uint256 blockDepth, uint256 uncleIndex) returns (bytes)</code></li>
</ul>

<p>There is a limitation on how deep the block to inspect can be from the executing block. It is possible to recover fields of the past 4000 blocks, meaning that the blockDepth must be a value between 0 and 3999 inclusive, where blockDepth 0 references the parent block of the executing block, blockDepth 1 references the grandparent of the executing block and so on. If there is no block at the specified depth, an empty byte array is returned.</p>

<h2 id="error-handling">Error handling</h2>

<p>In case of error, each of these methods behaves as if a solidity <code class="language-plaintext highlighter-rouge">assert</code> statement was being used. That is, contract state is reverted and all the gas is consumed.</p>

<h3 id="getbitcoinheader">getBitcoinHeader</h3>

<p>The method <code class="language-plaintext highlighter-rouge">getBitcoinHeader(uint256 blockDepth) returns (bytes)</code> takes as input the depth of the block to query block header fields from and returns a byte array representation of the associated Bitcoin merged mining header.</p>

<h4 id="validations">Validations</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blockDepth</code> must be an unsigned value ranging from 0 to 3999.</li>
</ul>

<h4 id="gas-cost">Gas cost</h4>

<p>This method has a fixed cost of 1,000 gas units. On top of that, normal transaction gas costs apply.</p>

<h4 id="sample-usage">Sample usage</h4>

<p>We want to recover the Bitcoin merged mining header for the parent block of the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getBitcoinHeader(0)
</code></pre></div></div>

<p>We want to recover the Bitcoin merged mining header for the 2500th block starting at the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getBitcoinHeader(2500)
</code></pre></div></div>

<p>We try to recover the Bitcoin merged mining header for a block beyond the 4000 depth limit. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getBitcoinHeader(5000) =&gt; []
</code></pre></div></div>

<p>We try to recover the Bitcoin merged mining header for a block that is not beyond the 4000 depth limit but still does not exist. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getBitcoinHeader(3500) =&gt; []
</code></pre></div></div>

<h3 id="getblockhash">getBlockHash</h3>

<p>The method <code class="language-plaintext highlighter-rouge">getBlockHash(uint256 blockDepth) returns (bytes)</code> takes as input the depth of the block to query block header fields from and returns a byte array representation of the block hash.</p>

<h4 id="validations-1">Validations</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blockDepth</code> must be an unsigned value ranging from 0 to 3999.</li>
</ul>

<h4 id="gas-cost-1">Gas cost</h4>

<p>This method has a fixed cost of 1,000 gas units. On top of that, normal transaction gas costs apply.</p>

<h4 id="sample-usage-1">Sample usage</h4>

<p>We want to recover the block hash for the parent block of the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getBlockHash(0)
</code></pre></div></div>

<p>We want to recover the block hash for the 2500th block starting at the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getBlockHash(2500)
</code></pre></div></div>

<p>We try to recover the block hash for a block beyond the 4000 depth limit. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getBlockHash(5000) =&gt; []
</code></pre></div></div>

<p>We try to recover the block hash for a block that is not beyond the 4000 depth limit but still does not exist. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getBlockHash(3500) =&gt; []
</code></pre></div></div>

<h3 id="getcoinbaseaddress">getCoinbaseAddress</h3>

<p>The method <code class="language-plaintext highlighter-rouge">getCoinbaseAddress(uint256 blockDepth) returns (bytes)</code> takes as input the depth of the block to query block header fields from and returns a byte array representation of the block’s coinbase address.</p>

<h4 id="validations-2">Validations</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blockDepth</code> must be an unsigned value ranging from 0 to 3999.</li>
</ul>

<h4 id="gas-cost-2">Gas cost</h4>

<p>This method has a fixed cost of 1,000 gas units. On top of that, normal transaction gas costs apply.</p>

<h4 id="sample-usage-2">Sample usage</h4>

<p>We want to recover the coinbase address for the parent block of the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getCoinbaseAddress(0)
</code></pre></div></div>

<p>We want to recover the coinbase address for the 2500th block starting at the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getCoinbaseAddress(2500)
</code></pre></div></div>

<p>We try to recover the coinbase address for a block beyond the 4000 depth limit. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getCoinbaseAddress(5000) =&gt; []
</code></pre></div></div>

<p>We try to recover the coinbase address for a block that is not beyond the 4000 depth limit but still does not exist. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getCoinbaseAddress(3500) =&gt; []
</code></pre></div></div>

<h3 id="getgaslimit">getGasLimit</h3>

<p>The method <code class="language-plaintext highlighter-rouge">getGasLimit(uint256 blockDepth) returns (bytes)</code> takes as input the depth of the block to query block header fields from and returns a byte array representation of the block’s gas limit.</p>

<h4 id="validations-3">Validations</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blockDepth</code> must be an unsigned value ranging from 0 to 3999.</li>
</ul>

<h4 id="gas-cost-3">Gas cost</h4>

<p>This method has a fixed cost of 1,000 gas units. On top of that, normal transaction gas costs apply.</p>

<h4 id="sample-usage-3">Sample usage</h4>

<p>We want to recover the gas limit for the parent block of the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getGasLimit(0)
</code></pre></div></div>

<p>We want to recover the gas limit for the 2500th block starting at the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getGasLimit(2500)
</code></pre></div></div>

<p>We try to recover the gas limit for a block beyond the 4000 depth limit. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getGasLimit(5000) =&gt; []
</code></pre></div></div>

<p>We try to recover the gas limit for a block that is not beyond the 4000 depth limit but still does not exist. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getGasLimit(3500) =&gt; []
</code></pre></div></div>

<h3 id="getgasused">getGasUsed</h3>

<p>The method <code class="language-plaintext highlighter-rouge">getGasUsed(uint256 blockDepth) returns (bytes)</code> takes as input the depth of the block to query block header fields from and returns a byte array representation of the block’s gas used.</p>

<h4 id="validations-4">Validations</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blockDepth</code> must be an unsigned value ranging from 0 to 3999.</li>
</ul>

<h4 id="gas-cost-4">Gas cost</h4>

<p>This method has a fixed cost of 1,000 gas units. On top of that, normal transaction gas costs apply.</p>

<h4 id="sample-usage-4">Sample usage</h4>

<p>We want to recover the gas used by the parent block of the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getGasUsed(0)
</code></pre></div></div>

<p>We want to recover the gas used by the 2500th block starting at the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getGasUsed(2500)
</code></pre></div></div>

<p>We try to recover the gas used by a block beyond the 4000 depth limit. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getGasUsed(5000) =&gt; []
</code></pre></div></div>

<p>We try to recover the gas used by a block that is not beyond the 4000 depth limit but still does not exist. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getGasUsed(3500) =&gt; []
</code></pre></div></div>

<h3 id="getmergedminingtags">getMergedMiningTags</h3>

<p>The method <code class="language-plaintext highlighter-rouge">getMergedMiningTags(uint256 blockDepth) returns (bytes)</code> takes as input the depth of the block to query block header fields from and returns a byte array representation of the block’s merged mining tags.</p>

<h4 id="validations-5">Validations</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blockDepth</code> must be an unsigned value ranging from 0 to 3999.</li>
</ul>

<h4 id="gas-cost-5">Gas cost</h4>

<p>This method has a fixed cost of 1,000 gas units. On top of that, normal transaction gas costs apply.</p>

<h4 id="sample-usage-5">Sample usage</h4>

<p>We want to recover the merged mining tags for the parent block of the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getMergedMiningTags(0)
</code></pre></div></div>

<p>We want to recover the merged mining tags for the 2500th block starting at the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getMergedMiningTags(2500)
</code></pre></div></div>

<p>We try to recover the merged mining tags for a block beyond the 4000 depth limit. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getMergedMiningTags(5000) =&gt; []
</code></pre></div></div>

<p>We try to recover the merged mining tags for a block that is not beyond the 4000 depth limit but still does not exist. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getMergedMiningTags(3500) =&gt; []
</code></pre></div></div>

<h3 id="getmingasprice">getMinGasPrice</h3>

<p>The method <code class="language-plaintext highlighter-rouge">getMinGasPrice(uint256 blockDepth) returns (bytes)</code> takes as input the depth of the block to query block header fields from and returns a byte array representation of the minimum gas price.</p>

<h4 id="validations-6">Validations</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blockDepth</code> must be an unsigned value ranging from 0 to 3999.</li>
</ul>

<h4 id="gas-cost-6">Gas cost</h4>

<p>This method has a fixed cost of 1,000 gas units. On top of that, normal transaction gas costs apply.</p>

<h4 id="sample-usage-6">Sample usage</h4>

<p>We want to recover the minimum gas price for the parent block of the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getMinGasPrice(0)
</code></pre></div></div>

<p>We want to recover the minimum gas price for the 2500th block starting at the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getMinGasPrice(2500)
</code></pre></div></div>

<p>We try to recover the minimum gas price for a block beyond the 4000 depth limit. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getMinGasPrice(5000) =&gt; []
</code></pre></div></div>

<p>We try to recover the minimum gas price for a block that is not beyond the 4000 depth limit but still does not exist. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getMinGasPrice(3500) =&gt; []
</code></pre></div></div>

<h3 id="getrskdifficulty">getRSKDifficulty</h3>

<p>The method <code class="language-plaintext highlighter-rouge">getRSKDifficulty(uint256 blockDepth) returns (bytes)</code> takes as input the depth of the block to query block header fields from and returns a byte array representation of the block’s RSK difficulty.</p>

<h4 id="validations-7">Validations</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blockDepth</code> must be an unsigned value ranging from 0 to 3999.</li>
</ul>

<h4 id="gas-cost-7">Gas cost</h4>

<p>This method has a fixed cost of 1,000 gas units. On top of that, normal transaction gas costs apply.</p>

<h4 id="sample-usage-7">Sample usage</h4>

<p>We want to recover the RSK’s difficulty for the parent block of the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getRSKDifficulty(0)
</code></pre></div></div>

<p>We want to recover the RSK’s difficulty for the 2500th block starting at the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getRSKDifficulty(2500)
</code></pre></div></div>

<p>We try to recover the RSK’s difficulty for a block beyond the 4000 depth limit. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getRSKDifficulty(5000) =&gt; []
</code></pre></div></div>

<p>We try to recover the RSK’s difficulty for a block that is not beyond the 4000 depth limit but still does not exist. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getRSKDifficulty(3500) =&gt; []
</code></pre></div></div>

<h3 id="getunclecoinbaseaddress">getUncleCoinbaseAddress</h3>

<p>The method <code class="language-plaintext highlighter-rouge">getUncleCoinbaseAddress(uint256 blockDepth, uint256 uncleIndex) returns (bytes)</code> takes as input the depth of the block to query block header fields from, the index of the uncle to query for and returns a byte array representation of the coinbase address for the indexed uncle.</p>

<h4 id="validations-8">Validations</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">blockDepth</code> must be an unsigned value ranging from 0 to 3999.</li>
</ul>

<h4 id="gas-cost-8">Gas cost</h4>

<p>This method has a fixed cost of 1,000 gas units. On top of that, normal transaction gas costs apply.</p>

<h4 id="sample-usage-8">Sample usage</h4>

<p>We want to recover the coinbase address of the first uncle of the executing block’s parent block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getUncleCoinbaseAddress(0, 0)
</code></pre></div></div>

<p>We want to recover the coinbase address of the third uncle of the 2500th block starting at the executing block.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getUncleCoinbaseAddress(2500, 2)
</code></pre></div></div>

<p>We want to recover the coinbase address of the an unexistent uncle of the 2500th block starting at the executing block. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getUncleCoinbaseAddress(2500, 12) =&gt; []
</code></pre></div></div>

<p>We try to recover the coinbase address of an uncle for a block beyond the 4000 depth limit. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getUncleCoinbaseAddress(5000, 0) =&gt; []
</code></pre></div></div>

<p>We try to recover the coinbase address of an uncle for a block that is not beyond the 4000 depth limit but still does not exist. An empty byte array is returned.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getUncleCoinbaseAddress(3500, 0) =&gt; []
</code></pre></div></div>

<h2 id="rationale">Rationale</h2>

<p>TODO (if any)</p>

<h2 id="references">References</h2>

<h3 id="copyright">Copyright</h3>

<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p>

  </div>

</article>

      </div>
    </main><footer>
    <div class="footer_cont">
        <div class="footer_box">
            <ul class="social-media-list"><li><a href="https://github.com/rsksmart/RSKIPs" target="_blank" rel="noopener"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">Visit on Github</span></a></li></ul>
        </div>
    </div>
</footer><script src="../assets/js/dark_mode.js"></script>
    <script src="../../assets/js/dark_mode.js"></script>
  </body>

</html>
